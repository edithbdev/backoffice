{% extends 'base.html.twig' %}

{% block title %}Connexion
{% endblock %}

{% block body %}
	<div id="layoutAuthentication">
		<div id="layoutAuthentication_content">
			<main>
				<div class="container">
					<div class="row justify-content-center">
									<div class="col-lg-5">
										<div class="card shadow-lg border-0 rounded-lg mt-5">
											{% for message in app.flashes('success') %}
												<div class="alert alert-success">
													{{ message }}
												</div>
											{% endfor %}
											{% for message in app.flashes('error') %}
												<div class="alert alert-danger">
													{{ message }}
												</div>
											{% endfor %}
											<div class="card-header">
												<h3 class="text-center font-weight-light my-4">Login</h3>
											</div>
											<div class="card-body">
												<form method="post">
													{% if error %}
														<div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
													{% endif %}
													{% if app.user %}
														<div class="mb-3">
															You are logged in as
															{{ app.user.username }},
															<a href="{{ path('app_logout') }}">Logout</a>
														</div>
													{% endif %}
													<div class="form-floating mb-3">
														<input class="form-control" required autofocus id="email" type="email" value="{{ last_username }}" name="email" autocomplete="email" required autofocus>
														<label for="email">email</label>
													</div>
													<div class="form-floating mb-3">
														<input class="form-control" required id="inputPassword" type="password" name="password" autocomplete="current-password" required>
														<label for="inputPassword">Password</label>
													</div>

													{# {% endif %} #}
													<div class="form-check mb-3">
														<input class="form-check-input" id="inputRememberPassword" type="checkbox" value=""/>
														<label name="_remember_me" class="form-check-label" for="inputRememberPassword">Remember me</label>
													</div>

													<div class="d-flex align-items-center justify-content-between mt-4 mb-0">
														<input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
														<button class="btn btn-lg btn-primary btn-block" type="submit">Connexion</button>
													</div>
												</form>
											</div>
											<div class="card-footer text-center py-3">
												<div class="small">
													<a href="{{ path('app_register') }}">Need an account? Sign up!</a>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</main>
					</div>
				{% endblock %}
