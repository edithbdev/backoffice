{% extends 'base.html.twig' %}

{% block title %}Change user account
	{{ app.user.name }}
{% endblock %}

{% block body %}
	<div id="layoutSidenav_content">
		<main>
			<div class="container-fluid px-4">
				<h1 class="mt-4">Change user account
					{{ app.user.name | upper }}</h1>
				<div class="row">
					{% for message in app.flashes('success') %}
						<div class="alert alert-success">
							{{ message }}
						</div>
					{% endfor %}
					{% for message in app.flashes('error') %}
						<div class="alert alert-danger">
							{{ message }}
						</div>
					{% endfor %}

					{{ form_start(form) }}
					<div class="row mb-3">
						<div class="col-md-6">
							<div class="form-floating mb-3 mb-md-0">
								{{ form_widget(form.name) }}
								{{ form_errors(form.name)}}
								{{ form_help(form.name) }}
								{{ form_label(form.name) }}

							</div>
						</div>
						<div class="col-md-6">
							<div class="form-floating mb-3 mb-md-0">
								{{ form_widget(form.phone) }}
								{{ form_errors(form.phone)}}
								{{ form_help(form.phone) }}
								{{ form_label(form.phone) }}

							</div>
						</div>
					</div>
					<div class="col-md-12">
						<div class="form-floating mb-3 mb-md-0">
							{{ form_widget(form.email) }}
							{{ form_errors(form.email)}}
							{{ form_help(form.email) }}
							{{ form_label(form.email) }}
						</div>
					</div>
					<div class="row mt-3">
						<div class="col-md-6">
							<div class="form-floating mb-3 mb-md-0">
								{{ form_widget(form.plainPassword.first) }}
								{{ form_errors(form.plainPassword.first) }}
								{{ form_help(form.plainPassword.first) }}
								{{ form_label(form.plainPassword.first) }}
							</div>
						</div>
						<div class="col-md-6">
							<div class="form-floating mb-3 mb-md-0">
								{{ form_widget(form.plainPassword.second) }}
								{{ form_errors(form.plainPassword.second) }}
								{{ form_help(form.plainPassword.second) }}
								{{ form_label(form.plainPassword.second) }}
							</div>
						</div>
					</div>

					<div class="col-12">
						{{ form_widget(form.roles, { 'attr': {'class': 'd-none'} }) }}
						{{ form_widget(form.created_At, { 'attr': {'class': 'd-none'} }) }}
					</div>

					<button class="btn btn-primary mb-5 mt-3">{{ button_label|default('Mettre à jour') }}</button>
					<a href="{{ path('delete_user') }}" class="btn btn-danger mb-5 mt-3">Supprimer le compte</a>
					<button class="btn mb-5 mt-3 redirect">
						<a href="{{ path('admin_user_index') }}">Annuler</a>
					</button>
					{{ form_end(form) }}
				</div>
			</div>

			<hr>
			{# <button class="btn btn-danger">
				<a href="{{ path('contact') }}" class="text-white">Demander la suppression du compte*</a>
			</button>
			<p class="font-italic">
				*En cas de demande de suppression, le compte sera supprimé dans les 24h. Merci de m'indiquer votre pseudo lors de votre demande.
			</p> #}
		</main>


	{% endblock %}
