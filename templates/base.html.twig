<!DOCTYPE html>
<html lang="fr" | lang="en">
	<head>
		<meta charset="UTF-8">
		<title>
			{% block title %}Welcome!
			{% endblock %}
		</title>
		{% block stylesheets %}
			<link rel="stylesheet" href="https://bootswatch.com/4/yeti/bootstrap.min.css">
			<link
			rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		{# <link rel="stylesheet" href="/css/style.css"> #}

		{% endblock %}

		{% block stylesheets %}
			{{ encore_entry_link_tags('app') }}
		{% endblock %}
	</head>
	<body>
		<nav class="navbar navbar-light bg-light">
			{% if app.user %}
				<a class="navbar-brand nav-link{{ 'home' in app.request.get('_route') ? ' active' }}" href="{{ path('home') }}">Accueil</a>
				{% if is_granted('ROLE_ADMIN') %}
					<a class="nav-link{{ 'project' in app.request.get('_route') ? ' active' }}" href="{{ path('admin_project_index') }}">Page admin projets</a>
					<a class="nav-link{{ 'user' in app.request.get('_route') ? ' active' }}" href="{{ path('admin_user_index') }}">Page admin users</a>
				{% endif %}

				<div>
					{% if is_granted('ROLE_USER') %}
						<a class="nav-link{{ 'contact' in app.request.get('_route') ? ' active' }}" href="{{ path('contact') }}">Contact</a>
					</div>
					<div>
						<a class="nav-link{{ 'profile' in app.request.get('_route') ? ' active' }}" href="{{ path('profile', {'user': app.user.username}) }}">Profile</a>
					</div>
					<div>
						<a href="{{ path('app_logout') }}">Déconnexion</a>
					</div>
					<div>
						Bonjour
						{{ app.user.username }}
					{% endif %}
				</div>
			{% else %}
				<div>
					<a class="nav-link{{ 'contact' in app.request.get('_route') ? ' active' }}" href="{{ path('contact') }}">Contact</a>
				</div>
				<div>
					<a class="nav-link{{ 'register' in app.request.get('_route') ? ' active' }}" href="{{ path('register') }}">S'inscrire</a>
				</div>
				<div>
					<a class="nav-link{{ 'app_login' in app.request.get('_route') ? ' active' }}" href="{{ path('app_login') }}">Se connecter</a>
				</div>
			{% endif %}
		</nav>
		<div class="container">
			{% if message is defined %}
				<div class="alert alert-danger">
					{{ message }}
				</div>
			{% endif %}
			{% for message in app.flashes('success') %}
				<div class="alert alert-success">
					{{ message }}
				</div>
			{% endfor %}
			{% block body %}{% endblock %}
		</div>
		<footer class="navbar-light bg-light">
			<div class="footer-copyright text-center py-3">© 2022 Copyright
				<hr>
				<a href="https://edithbredon.fr">
					Edith Bredon</a>
			</div>
		</footer>
		{% block javascripts %}
			<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
			<script src="/js/script.js"></script>
		{% endblock %}
	</body>
</html>
