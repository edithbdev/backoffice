{% extends 'base.html.twig' %}

{% block title %}Utilisateur
{% endblock %}

{% block body %}
	{% if is_granted('ROLE_ADMIN') %}
		<h1 class="my-4">Détail de l'utilisateur :
			{{ user.username|e('html')}}
		</h1>
		<table class="table">
			<thead>
				<tr>
					<th scope="col">Id</th>
					<th scope="col">Username</th>
					<th scope="col">Role</th>
					<th scope="col">Password</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<th scope="row">{{ user.id }}</th>
					<td>{{ user.username }}</td>
					<td>{{ user.roles ? user.roles|json_encode : '' }}</td>
					<td>{{ user.password }}</td>
				</tr>
			</tbody>
		</table>

		<hr>
		<button>
			<a href="{{ path('admin_user_edit', {'id': user.id}) }}">
				<i class="fa fa-edit" aria-hidden="true"></i>
			</a>
		</button>

		{{ include('admin/user/_delete_form.html.twig') }}

		<button>
			<a href="{{ path('admin_user_index') }}">Retour</a>
		</button>
	{% else %}
		<h1>Vous n'avez pas les droits d'accès à cette page</h1>
	{% endif %}
{% endblock %}
